# THIS IS NOT A SCRIPT.
# YOU CANNOT RUN THIS.
# You can delete this file: this is only used for study purpose only.

# List properties and commands
import time
time.sleep(1)
print(send_mpv_command(["get_property", "property-list"]).get("data", []))
print(send_mpv_command(["get_property", "command-list"]).get("data", []))


# Ask all available properties to MPV, via IPC and save the result into a file
import time
time.sleep(1)
props=(send_mpv_command(["get_property", "property-list"]).get("data", []))
#print(send_mpv_command(["get_property", "command-list"]).get("data", []))
propdict={}
for prop_name in props:
    result = send_mpv_command(["get_property", prop_name])
    if result and "error" not in result or result.get("error") == "success":
        propdict[prop_name] = result.get("data")
    else:
        propdict[prop_name] = "No info"  # Proprietà non disponibile
# Salva il dictionary in un file, una proprietà per riga
with open("IPC_properties_example.json", "w", encoding="utf-8") as f:
    for key, value in propdict.items():
        json_line = json.dumps({key: value}, ensure_ascii=False)
        f.write(json_line + "\n")

